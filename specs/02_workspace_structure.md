# ワークスペースとディレクトリ構造 (Workspace & Directory Structure)

## ディレクトリ構成
devrosは、ROS 2開発における標準的なディレクトリ構造を前提としつつ、明確な役割分担を行います。

```
workspace_root/
├── devros.toml           # プロジェクト全体設定
├── devros.local.toml     # ローカル環境固有設定 (Git管理外推奨)
├── src/                  # [Input] ソースコード
├── build/                # [Intermediate] ビルド中間生成物
├── install/              # [Output] 最終成果物・環境設定
└── log/                  # [Output] 実行ログ
```

### ソースコード (`src/`)
ユーザーが開発するパッケージのソースコードを配置する場所です。
- **役割**: devrosのパッケージ探索の起点となります。
- **構造**: フラットな配置だけでなく、サブディレクトリによる階層化もサポートします。

### ビルド中間生成物 (`build/`)
ビルドプロセス中に生成される一時ファイルや中間ファイルが格納されます。
- **役割**: コンパイルキャッシュ、オブジェクトファイル、CMakeの一時ファイルなど。
- **分離**: パッケージごとにサブディレクトリが作成され (`build/<package_name>`)、相互干渉を防ぎます。
- **クリーン**: このディレクトリを削除しても、再ビルドにより完全に復元可能です。

### インストール先 (`install/`)
ビルドが完了し、利用可能となった成果物が配置されます。
- **役割**: 実行ファイル、ライブラリ、ヘッダーファイル、設定ファイル、および環境設定スクリプト (`setup.bash` 等)。
- **分離**: デフォルトでは `install/<package_name>` のようにパッケージごとに隔離 (Isolated) されます。
- **結合**: 必要に応じて `install/setup.bash` を介して、すべてのパッケージのパスが環境変数に統合されます。

### ログ (`log/`)
devrosの実行履歴やビルドツールの出力ログが保存されます。
- **役割**: エラー解析、パフォーマンス分析。
- **構造**: `log/latest` シンボリックリンクにより、最新の実行ログへ素早くアクセス可能です。

## 設定ファイル

### `devros.toml`
ワークスペースのルートに配置し、プロジェクト全体で共有すべき設定（ビルドプロファイル、デフォルトのコンパイラフラグなど）を記述します。

### `devros.local.toml`
開発者個人の環境に依存する設定（並列ビルド数、特定のパス設定など）を記述します。
- `devros.toml` の設定を上書きします。
- `.gitignore` に含めることが推奨されます。
